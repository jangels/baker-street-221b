# The 221B Engine

**A State-Aware, Abductive Reasoning Daemon for Distributed Systems**
*(é¢å‘åˆ†å¸ƒå¼ç³»ç»Ÿçš„çŠ¶æ€æ„ŸçŸ¥åž‹æº¯å› æŽ¨ç†å®ˆæŠ¤è¿›ç¨‹)*

**Version:** 0.1.0 (The Pink Study)
**Date:** February 9, 2026
**Author:** [Your ID/Name]

---

## 1. æ‘˜è¦ (Abstract)

åœ¨å¾®æœåŠ¡ä¸Žäº‘åŽŸç”Ÿæž¶æž„æ—¥ç›Šå¤æ‚çš„ä»Šå¤©ï¼Œå¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰æ•°æ®å‘ˆçŽ°æŒ‡æ•°çº§ç†µå¢žã€‚ä¼ ç»Ÿçš„ AIOps æ–¹æ¡ˆå¤šåŸºäºŽâ€œæ— çŠ¶æ€çš„å¤§è¯­è¨€æ¨¡åž‹å¯¹è¯â€ï¼ˆStateless LLM Chatbotsï¼‰ï¼Œç¼ºä¹å¯¹ç³»ç»ŸåŽ†å²æ‹“æ‰‘çš„è®°å¿†ä¸Žæ·±åº¦å› æžœæŽ¨æ–­èƒ½åŠ›ã€‚

**The 221B Engine** æå‡ºäº†ä¸€ç§å…¨æ–°çš„æž¶æž„èŒƒå¼ï¼šå®ƒä¸åªæ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªé©»ç•™åœ¨åŸºç¡€è®¾æ–½ä¸­çš„**åç†µå®ˆæŠ¤è¿›ç¨‹ï¼ˆAnti-Entropy Daemonï¼‰**ã€‚

å®ƒåŸºäºŽ **Rust** æž„å»ºæ ¸å¿ƒè¿è¡Œæ—¶ï¼Œåˆ©ç”¨ **eBPF** è¿›è¡Œå†…æ ¸çº§æ— ä¾µå…¥æ„ŸçŸ¥ï¼Œé€šè¿‡ **SurrealDB** ç»´æŠ¤åŠ¨æ€çŸ¥è¯†å›¾è°±ï¼Œå¹¶é‡‡ç”¨**è´å¶æ–¯æº¯å› æŽ¨ç†ï¼ˆBayesian Abductive Reasoningï¼‰**ç®—æ³•ã€‚å…¶æ ¸å¿ƒå“²å­¦éµå¾ªï¼šâ€œ**æ˜¨æ—¥çš„åŽéªŒï¼Œå³æ˜¯ä»Šæ—¥çš„å…ˆéªŒã€‚**â€é€šè¿‡å°†åŽ†å²æ•…éšœå†…åŒ–ä¸ºæ¦‚çŽ‡æƒé‡ï¼Œè‡´åŠ›äºŽåœ¨æ··æ²Œçš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä»¥  çš„æ—¶é—´å¤æ‚åº¦å®šä½æ ¹å› ï¼ˆRCAï¼‰ã€‚

---

## 2. é—®é¢˜é™ˆè¿°ï¼šé›·æ–¯åž‚å¾·é™·é˜± (The Lestrade Trap)

å½“å‰çš„ AI è¿ç»´å·¥å…·å­˜åœ¨ä¸‰ä¸ªè‡´å‘½ç¼ºé™·ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œé›·æ–¯åž‚å¾·é™·é˜±â€ï¼š

1. **æ— çŠ¶æ€é—å¿˜ (Statelessness)**ï¼šç›®å‰çš„ Agent æ˜¯â€œé‡‘é±¼è®°å¿†â€ã€‚æ¯æ¬¡æ•…éšœæŽ’æŸ¥éƒ½æ˜¯å…¨æ–°çš„ä¼šè¯ï¼Œæ— æ³•åˆ©ç”¨ä¸‰ä¸ªæœˆå‰å‘ç”Ÿè¿‡çš„ç±»ä¼¼æ•…éšœç»éªŒï¼ˆPrior Knowledgeï¼‰ã€‚
2. **å¹»è§‰å½’å›  (Hallucination)**ï¼šé€šç”¨ LLM ç¼ºä¹é¢†åŸŸçº¦æŸï¼Œå€¾å‘äºŽåŸºäºŽæ–‡æœ¬ç›¸ä¼¼æ€§è€Œéžæ‹“æ‰‘å› æžœæ€§è¿›è¡ŒæŽ¨æ–­ï¼Œå®¹æ˜“äº§ç”Ÿâ€œä¼¼æ˜¯è€Œéžâ€çš„é”™è¯¯è¯Šæ–­ã€‚
3. **é«˜å»¶è¿Ÿä¸Žè¢«åŠ¨æ€§ (Passivity)**ï¼šå¤§å¤šæ•°å·¥å…·ç­‰å¾…äººç±»æé—®ï¼ˆHuman-in-the-loopï¼‰ï¼Œè€Œéžåƒå®ˆæŠ¤è¿›ç¨‹ä¸€æ ·å®žæ—¶ä¸»åŠ¨åœ°è¿›è¡Œå¼‚å¸¸å‰ªæžã€‚

æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ª**è®¡ç®—é€»è¾‘å¼•æ“Žï¼ˆComputational Logic Engineï¼‰**ï¼Œè€Œéžä¸€ä¸ªç®€å•çš„é—®ç­”ç•Œé¢ã€‚

---

## 3. æ ¸å¿ƒå“²å­¦ (Core Philosophy)

**The 221B Engine** çš„è®¾è®¡å»ºç«‹åœ¨ä¸‰å¤§ç†è®ºæ”¯æŸ±ä¹‹ä¸Šï¼š

### 3.1 æº¯å› æŽ¨ç† (Abductive Reasoning)

ä¸åŒäºŽå½’çº³ï¼ˆInductionï¼‰å’Œæ¼”ç»Žï¼ˆDeductionï¼‰ï¼Œæ•…éšœæŽ’æŸ¥æœ¬è´¨ä¸Šæ˜¯**æº¯å› **ï¼š



æˆ‘ä»¬è¿½æ±‚çš„æ˜¯â€œæœ€ä½³è§£é‡ŠæŽ¨è®ºâ€ï¼ˆInference to the Best Explanationï¼‰ï¼Œå¹¶åˆ©ç”¨å¥¥å¡å§†å‰ƒåˆ€åŽŸåˆ™å‰”é™¤å†—ä½™å‡è®¾ã€‚

### 3.2 è´å¶æ–¯ä¿¡å¿µä¿®æ­£ (Bayesian Belief Revision)

ç³»ç»Ÿçš„æ™ºæ…§æ¥æºäºŽâ€œè®°å¿†çš„æ•°å­¦åŒ–â€ã€‚



æœ¬å¼•æ“Žå°†æ¯ä¸€æ¬¡æˆåŠŸçš„ RCA è½¬åŒ–ä¸ºå›¾è°±ä¸­è¾¹æƒé‡çš„æ›´æ–°ã€‚æ˜¨æ—¥çš„ `Posterior` è¢«åºåˆ—åŒ–å­˜å‚¨ï¼Œæˆä¸ºä»Šæ—¥æ•…éšœæŽ’æŸ¥çš„ `Prior`ã€‚

### 3.3 äº§ä¸šç»æµŽå­¦è§†è§’ (Industrial Economics)

æˆ‘ä»¬å°†å¾®æœåŠ¡è°ƒç”¨é“¾è§†ä¸ºä¸€ä¸ª**æŠ•å…¥äº§å‡ºç½‘ç»œ (Input-Output Network)**ã€‚åˆ©ç”¨ Leontief é€†çŸ©é˜µæ€æƒ³ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„**å½±å­ä»·æ ¼ (Shadow Price)**ã€‚å½“å‘ç”Ÿçº§è”æ•…éšœæ—¶ï¼Œç³»ç»Ÿä¼˜å…ˆæŠ¢æ•‘é‚£äº›å…·æœ‰æœ€é«˜ä¸šåŠ¡ä»·å€¼æƒé‡çš„èŠ‚ç‚¹ã€‚

---

## 4. ç”Ÿæ€æž¶æž„ (The Ecosystem Architecture)

æœ¬ç³»ç»Ÿç”±äº”ä¸ªæ ¸å¿ƒæ¨¡å—ç»„æˆï¼Œåˆ†åˆ«å¯¹åº”ã€Šç¦å°”æ‘©æ–¯æŽ¢æ¡ˆé›†ã€‹ä¸­çš„ç»å…¸è§’è‰²ï¼š

### 4.1 ðŸ§  Holmes (The Cortex - æŽ¨ç†æ ¸å¿ƒ)

* **Identity**: Rust Binary (Daemon)
* **Role**: è´å¶æ–¯æŽ¨ç†å¼•æ“Žã€‚
* **Function**: å®ƒæ˜¯ç³»ç»Ÿçš„å¤§è„‘ã€‚æŽ¥æ”¶çº¿ç´¢ï¼ŒæŸ¥è¯¢è®°å¿†ï¼Œè®¡ç®—æ¦‚çŽ‡ï¼Œåšå‡ºåˆ¤å†³ã€‚å®ƒå°† LLM (System 2) é™çº§ä¸ºå•çº¯çš„â€œè¯­ä¹‰ç†è§£ç®—å­â€ï¼Œè€Œå°†é€»è¾‘æµæŽ§åˆ¶åœ¨ç¡®å®šæ€§çš„ Rust ä»£ç ä¸­ã€‚

### 4.2 ðŸ›ï¸ Mycroft (The State - çŠ¶æ€ç®¡ç†)

* **Identity**: SurrealDB (Graph Database)
* **Role**: çŸ¥è¯†å›¾è°±ä¸Žå…¨å±€çŠ¶æ€æŽ§åˆ¶å™¨ã€‚
* **Function**: å®ƒæ˜¯ç³»ç»Ÿçš„è®°å¿†ã€‚
* å­˜å‚¨**é™æ€æ‹“æ‰‘** (Service A calls Service B)ã€‚
* å­˜å‚¨**åŠ¨æ€æƒé‡** (Service B å¯¼è‡´ A å´©æºƒçš„æ¦‚çŽ‡æ˜¯ 0.9)ã€‚
* å­˜å‚¨**ç»æµŽä»·å€¼** (Service A çš„å½±å­ä»·æ ¼æ˜¯ 0.8)ã€‚



### 4.3 ðŸ•µï¸ Wiggins (The Sensors - æ„ŸçŸ¥å±‚)

* **Identity**: eBPF Programs (Rust/Aya)
* **Role**: è´å…‹è¡—å°åˆ†é˜Ÿï¼Œæ— å¤„ä¸åœ¨çš„è€³ç›®ã€‚
* **Function**: å®ƒæ˜¯ç³»ç»Ÿçš„çœ¼ç›ã€‚
* é©»ç•™åœ¨ Linux å†…æ ¸æ€ã€‚
* ç›‘å¬ TCP é‡ä¼ ã€HTTP é”™è¯¯ç ã€OOM ä¿¡å·ã€‚
* **é›¶ä¾µå…¥ (Zero-Instrumentation)**ï¼šæ— éœ€ä¸šåŠ¡ä»£ç ä¿®æ”¹ã€‚



### 4.4 ðŸ”« Watson (The Executor - æ‰§è¡Œä¸Žäº¤äº’)

* **Identity**: CLI / K8s Controller
* **Role**: åŒ»ç”Ÿã€åŠ©æ‰‹ä¸Žè¡ŒåŠ¨è€…ã€‚
* **Function**: å®ƒæ˜¯ç³»ç»Ÿçš„æ‰‹ã€‚
* **Narrator**: å°†ç»“æž„åŒ–çš„æŽ¨ç†ç»“æžœç¿»è¯‘æˆäººç±»å¯è¯»çš„ Markdown æŠ¥å‘Šã€‚
* **Actor**: æ‰§è¡Œé«˜å±æ“ä½œï¼ˆå¦‚ `kubectl delete pod` æˆ– `rollback`ï¼‰ï¼Œéœ€ç»è¿‡æƒé™æ ¡éªŒã€‚



### 4.5 ðŸ‘¹ Moriarty (The Nemesis - æ··æ²Œå¼•æ“Ž)

* **Identity**: Chaos Engine
* **Role**: å¯¹æŠ—è®­ç»ƒå¯¹æ‰‹ã€‚
* **Function**: å®ƒæ˜¯ç³»ç»Ÿçš„ç£¨åˆ€çŸ³ã€‚
* åœ¨ Staging çŽ¯å¢ƒä¸­ä¸»åŠ¨åˆ¶é€ æ•…éšœï¼ˆç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ã€æ€è¿›ç¨‹ï¼‰ã€‚
* ä¸Ž Holmes è¿›è¡Œé›¶å’Œåšå¼ˆï¼Œé€šè¿‡å¯¹æŠ—è®­ç»ƒè‡ªåŠ¨åŒ–åœ°æ ¡å‡†è´å¶æ–¯å…ˆéªŒæ¦‚çŽ‡ã€‚



---

## 5. æ•°æ®æ¨¡åž‹ï¼šå¤§è„‘é˜æ¥¼ (Mind Palace Schema)

æˆ‘ä»¬ä½¿ç”¨ SurrealDB å®šä¹‰äº†ä¸€ä¸ªå¼ºç±»åž‹çš„å›¾ç»“æž„ï¼š

```sql
-- èŠ‚ç‚¹ï¼šæœåŠ¡å®žä½“
DEFINE TABLE service SCHEMAFULL;
DEFINE FIELD name ON TABLE service TYPE string;
DEFINE FIELD business_value ON TABLE service TYPE float; -- å½±å­ä»·æ ¼

-- è¾¹ï¼šå› æžœä¼ æ’­ (The Synapse)
DEFINE TABLE calls SCHEMAFULL;
DEFINE FIELD in ON TABLE calls TYPE record(service);
DEFINE FIELD out ON TABLE calls TYPE record(service);
DEFINE FIELD p_propagation ON TABLE calls TYPE float DEFAULT 0.1; 
-- å…³é”®å­—æ®µï¼šP(Sourceæ•…éšœ | Targetæ•…éšœ)

```

---

## 6. ç®—æ³•æµç¨‹ï¼šåŸºæœ¬æ¼”ç»Žæ³• (The Deduction Loop)

å½“ **Wiggins** æ•èŽ·åˆ°å¼‚å¸¸ï¼ˆEvidence ï¼‰æ—¶ï¼Œ**Holmes** å¯åŠ¨å¦‚ä¸‹å¾ªçŽ¯ï¼š

1. **Context Assembly (çŽ°åœºè¿˜åŽŸ)**:
ä»Ž **Mycroft** ä¸­æå–ä»¥å—å®³èŠ‚ç‚¹ä¸ºä¸­å¿ƒçš„  è·³å­å›¾ã€‚
2. **Hypothesis Generation (å‡è®¾ç”Ÿæˆ)**:
éåŽ†å­å›¾ä¸­çš„ä¸Šæ¸¸èŠ‚ç‚¹ï¼ŒåŸºäºŽâ€œæ˜¨æ—¥åŽéªŒâ€ç”Ÿæˆåˆå§‹å«Œç–‘äººåˆ—è¡¨ã€‚
3. **Bayesian Pruning (è´å¶æ–¯å‰ªæž)**:
* åˆ©ç”¨ LLM åˆ¤æ–­ä¼¼ç„¶åº¦ ã€‚
* è®¡ç®—åŽéªŒæ¦‚çŽ‡ ã€‚
* å‰”é™¤æ¦‚çŽ‡ä½ŽäºŽé˜ˆå€¼çš„å‡è®¾ï¼ˆ"Eliminate the impossible"ï¼‰ã€‚


4. **Verdict (åˆ¤å†³)**:
è¾“å‡ºæ¦‚çŽ‡æœ€é«˜çš„å‡è®¾ä½œä¸º Root Causeã€‚
5. **Action (è¡ŒåŠ¨)**:
**Watson** æ‰§è¡Œä¿®å¤æ“ä½œã€‚
6. **Consolidation (è®°å¿†å›ºåŒ–)**:
å¦‚æžœä¿®å¤æˆåŠŸï¼Œ**Holmes** å›žå†™ **Mycroft**ï¼Œå¢žåŠ è¯¥å› æžœè¾¹çš„æƒé‡ï¼ˆRewardï¼‰ã€‚

---

## 7. ç»“è®º (Conclusion)

**The 221B Engine** ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¿ç»´å·¥å…·ï¼Œå®ƒæ˜¯ä¸€ç§å¯¹**â€œåè„†å¼±â€**ç³»ç»Ÿçš„æŽ¢ç´¢ã€‚

åœ¨ç†µå¢žä¸å¯é¿å…çš„åˆ†å¸ƒå¼å®‡å®™ä¸­ï¼Œæˆ‘ä»¬æ‹’ç»æŽ¥å—ä¸å¯çŸ¥è®ºã€‚é€šè¿‡å°†ç¦å°”æ‘©æ–¯çš„æ¼”ç»Žé€»è¾‘ä»£ç åŒ–ï¼Œå¹¶èµ‹äºˆå…¶å›¾è°±è®°å¿†èƒ½åŠ›ï¼Œæˆ‘ä»¬æž„å»ºäº†ä¸€ä¸ªèƒ½å¤ŸæŠµæŠ—æ··ä¹±ã€è‡ªæˆ‘è¿›åŒ–çš„ç†æ€§å®žä½“ã€‚

> *"The game is afoot."*

---

*Copyright Â© 2026 The 221B Engine Project. All Rights Reserved.*
*2026-02-09 16:40:22 CST*